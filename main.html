<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Ch√¥meurs en Ile de France</title>
    <link rel="icon" href="data:,">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
    <style>
        #map {
            width: 600px;
            height: 600px;
        }
    </style>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <script>
        "use strict";

        function buildLayer(map, data) {
            let geoLayer;
            if (geoLayer) geoLayer.remove();

            geoLayer = L.geoJSON(data);

            geoLayer.addTo(map);
        }

        window.onload = async () => {
            let map = L.map('map', {
                center: [48, 0],
                zoom: 9
            });

            var Jawg_Dark = L.tileLayer('https://tile.jawg.io/jawg-dark/{z}/{x}/{y}{r}.png?access-token={accessToken}', {
                attribution: '<a href="https://jawg.io" title="Tiles Courtesy of Jawg Maps" target="_blank">&copy; <b>Jawg</b>Maps</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                minZoom: 0,
                maxZoom: 22,
                accessToken: '<your accessToken>'
            });

            Jawg_Dark.addTo(map);
            let response = await fetch("data/ufo_sightings.csv");
            let data = await response.json();

            buildLayer(map, data);
        };
    </script>
</head>

<body>
    <div id="map"></div>
</body>

</html>